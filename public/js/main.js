"use strict";var App={init:function(){Header.init(),Home.init(),Advantages.init(),Reviews.init(),Courses.init(),Indicators.init(),Instructors.init(),Feedback.init(),Footer.init(),document.addEventListener("onViewAllCourses",function(e){CrsPopup.init(e.detail)}),document.addEventListener("onSetCourse",function(e){Feedback.setCourse(e.detail)})}},Header={init:function(){console.log("header initialized")}},Home=function(){var e=document.querySelector(".home .container");return{init:function(){e.onclick=function(e){var t;0<=e.target.className.indexOf("read")&&(t=new CustomEvent("onViewAllCourses",{detail:0}),document.dispatchEvent(t))}}}}(),Advantages=function(){var o=document.querySelector(".advantages-block"),n=[{labelSrc:"/img/manager-icon.png",header:"best instructors",text:"Cras suscipit tristique lectus quis consequat. Praesent convallis non risus dignissim."},{labelSrc:"/img/dashboard-icon.png",header:"safety driving",text:"Suspendisse ut blandit orci, eget suscipit felis vel augue. Praesent ut arcu urna."},{labelSrc:"/img/timetable-icon.png",header:"flexible schedule",text:"Quisque rutrum. Aene imperdiet. Etiam ultricies nisi vel augue. Curabitur ullamcorper ultricies."},{labelSrc:"/img/like-icon.png",header:"affordable fee",text:"Quam adipiscing vitae proin sagittis nisl rhoncus mattis rhoncus uneque viverra justo."}];return{init:function(){!function(){for(var e=0;e<n.length;e++){var t='<img src="'+n[e].labelSrc+'" alt=""><h3>'+n[e].header+"</h3><p>"+n[e].text+"</p>",i=document.createElement("div");i.className="advantages-block-item",i.innerHTML=t,o.appendChild(i)}}()}}}(),Reviews=function(){var n=document.querySelector(".reviews .content .review"),e=document.querySelector(".reviews .content .text"),t=document.querySelector(".reviews .content .author"),i=document.querySelector(".reviews .left-arrow"),o=document.querySelector(".reviews .right-arrow"),a=[{text:'"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur commodo sapien eget pellentesque blandit. Suspendisse potenti. Cras ultrices metus pharetra ipsum lacinia ullamcorper."',author:"Dmitry Shagaleev"},{text:'"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Beatae culpa eveniet ex omnis tempora, totam!"',author:"Konstantin Zuenko"},{text:'"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab eum facilis ipsum nemo, omnis optio quam quisquam sequi."',author:"Dmitry Kustodiev"}],r=0;function s(){e.innerText=a[r].text,t.innerText=a[r].author}function u(e){e.innerHTML='<img src="img/arrow-blue.png">'}function c(e){e.innerHTML='<img src="img/arrow.png">'}function l(e){var t=n.style,i="toLeft"===e?"-30vw":"30vw",o="toRight"===e?"-30vw":"30vw";t.transition="0.25s",t.transform="translateX("+i+") scale(0.01)",t.opacity="0",setTimeout(function(){t.transform="translateX("+o+") scale(0.01)",setTimeout(function(){switch(e){case"toLeft":r=0===r?a.length-1:r-1;break;case"toRight":r=r===a.length-1?0:r+1}s(),t.opacity="1",t.transform="translateX(0) scale(1)"},250)},250)}return{init:function(){s(),i.onmouseenter=function(){u(i)},i.onmouseleave=function(){c(i)},o.onmouseenter=function(){u(o)},o.onmouseleave=function(){c(o)},i.onclick=function(){l("toLeft")},o.onclick=function(){l("toRight")},window.addEventListener("scroll",function(){var e=document.querySelector(".reviews-bg"),t=document.querySelector(".reviews");fLib.parallax(t,e,150,3)})}}}(),Courses=function(){var r,e=document.querySelector("#courses .container"),s=document.querySelector(".courses-block"),u=[{labelSrc:"/img/course1-label.png",header:"driving course I",text:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.",fullDesc:"Red Car Lorem ipsum dolor sit amet, consectetur adipisicing elit consequuntur cumque et facilis repudiandae saepe sed sequi veniam vero atque consequuntur dolores earum id iure laboriosam minus nemo, nisi nostrum odio quidem, quis tempora vel. Aliquid debitis dolore, eaque earum eveniet facere fugiat molestias, neque nisi obcaecati odio sed sequi sit, totam vero. Dolore dolorum ea iure magnam mollitia nulla rem, reprehenderit tempore velit voluptate voluptatem voluptates voluptatibus voluptatum aliquam aperiam aut blanditiis consectetur cupiditate dolor eius exercitationem explicabo facilis fugiat fugit, impedit, ipsam magnam nesciunt non officiis quaerat quidem reprehenderit rerum saepe sint tempora vitae voluptatum",cost:200},{labelSrc:"/img/course2-label.png",header:"driving course II",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis cupiditate impedit quae. Ab, aspernatur.",fullDesc:"Truck Lorem ipsum dolor sit amet, consectetur adipisicing elit consequuntur cumque et facilis repudiandae saepe sed sequi veniam vero atque consequuntur dolores earum id iure laboriosam minus nemo, nisi nostrum odio quidem, quis tempora vel aliquid debitis dolore, eaque earum eveniet facere fugiat molestias, neque nisi obcaecati odio sed sequi sit, totam vero. Dolore dolorum ea iure magnam mollitia nulla rem, reprehenderit tempore velit. Voluptate voluptatem voluptates voluptatibus voluptatum aliquam aperiam aut blanditiis consectetur cupiditate dolor eius exercitationem explicabo facilis fugiat fugit, impedit, ipsam magnam nesciunt non officiis quaerat quidem reprehenderit rerum saepe sint tempora vitae voluptatum",cost:300},{labelSrc:"/img/course3-label.png",header:"driving course III",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio eligendi error est illo perspiciatis.",fullDesc:"Bike Lorem ipsum dolor sit amet, consectetur adipisicing elit consequuntur cumque. Et facilis repudiandae saepe sed sequi veniam vero atque consequuntur dolores earum id iure laboriosam minus nemo, nisi nostrum odio quidem, quis tempora vel. Aliquid debitis dolore, eaque earum eveniet facere fugiat molestias, neque nisi obcaecati odio sed sequi sit, totam vero. Dolore dolorum ea iure magnam mollitia nulla rem, reprehenderit tempore velit voluptate voluptatem voluptates voluptatibus voluptatum aliquam aperiam aut blanditiis consectetur cupiditate dolor eius exercitationem explicabo facilis fugiat fugit, impedit",cost:400},{labelSrc:"/img/course4-label.png",header:"driving course IV",text:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.",fullDesc:"Orange drift Lorem ipsum dolor sit amet, consectetur adipisicing elit consequuntur cumque et facilis repudiandae saepe sed sequi veniam vero atque consequuntur dolores earum id iure laboriosam minus nemo, nisi nostrum odio quidem, quis tempora vel aliquid debitis dolore, eaque earum eveniet facere fugiat molestias, neque nisi obcaecati odio sed sequi sit, totam vero. Dolore dolorum ea iure magnam mollitia nulla rem, reprehenderit tempore velit voluptate voluptatem voluptates voluptatibus voluptatum aliquam aperiam aut blanditiis consectetur cupiditate dolor eius exercitationem explicabo facilis fugiat fugit, impedit, ipsam magnam nesciunt non officiis quaerat quidem reprehenderit rerum saepe sint tempora vitae voluptatum",cost:1200},{labelSrc:"/img/course5-label.png",header:"driving course V",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis cupiditate impedit quae. Ab, aspernatur.",fullDesc:"Black drift Lorem ipsum dolor sit amet, consectetur adipisicing elit consequuntur cumque et facilis repudiandae saepe sed sequi veniam vero atque consequuntur dolores earum id iure laboriosam minus nemo, nisi nostrum odio quidem. Quis tempora vel aliquid debitis dolore, eaque earum eveniet facere fugiat molestias, neque nisi obcaecati odio sed sequi sit, totam vero dolore dolorum ea iure magnam mollitia nulla rem. Reprehenderit tempore velit voluptate voluptatem voluptates voluptatibus voluptatum aliquam aperiam aut blanditiis consectetur cupiditate dolor eius exercitationem explicabo facilis fugiat fugit, impedit, ipsam magnam nesciunt non officiis quaerat quidem reprehenderit rerum saepe sint tempora vitae voluptatum",cost:1300},{labelSrc:"/img/course6-label.png",header:"driving course VI",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio eligendi error est illo perspiciatis.",fullDesc:"Snow car Lorem ipsum dolor sit amet, consectetur adipisicing elit consequuntur cumque et facilis repudiandae saepe sed sequi veniam vero atque consequuntur dolores earum id iure laboriosam minus nemo. Nisi nostrum odio quidem, quis tempora vel aliquid debitis dolore, eaque earum eveniet facere fugiat molestias, neque nisi obcaecati odio sed sequi sit, totam vero dolore dolorum ea iure magnam mollitia nulla rem, reprehenderit tempore velit voluptate voluptatem. Voluptates voluptatibus voluptatum aliquam aperiam aut blanditiis consectetur cupiditate dolor eius exercitationem explicabo facilis fugiat fugit, impedit, ipsam magnam nesciunt non officiis quaerat quidem reprehenderit rerum saepe sint tempora vitae voluptatum",cost:1400}],n=3<u.length?3:u.length,a=n===u.length,c="read more",l=document.querySelector(".button-show");function m(e,t){for(var i=e;i<t;i++){var o='<img src="'+u[i].labelSrc+'" alt="">',n='<div class="hover-box read">'+c+"</div>",a='<div class="content">'+("<h3>"+u[i].header+"</h3>")+("<p>"+u[i].text+"</p>")+('<div class="cost">$ '+u[i].cost+"</div>")+'<div class="buttons"><div class="button send">go to order</div><div class="button read">read more</div></div></div>';(r=document.createElement("div")).className="courses-block-item",r.id="crsId_"+i,r.innerHTML=o+n+a,s.appendChild(r)}}return{init:function(){m(0,n),a||(l.style.display="block",l.innerText="view all courses"),e.onclick=function(e){var t=e.target,i=t.className,o="courses-block-item";0<=i.indexOf("button-show")?function(){if(a){for(;s.childElementCount>n;)s.removeChild(s.children[s.childElementCount-1]);a=!1,l.innerText="view all courses"}else m(n,u.length),a=!0,l.innerText="only top courses"}():0<=i.indexOf("read")?fLib.dispatchOpenCrsPopup(t,o):0<=i.indexOf("send")&&(fLib.dispatchSetCourse(t,o),Feedback.scrollToFeedback())}},getCrsArr:function(){return u}}}(),CrsPopup=function(){var g,i=document.querySelector("header"),o=document.querySelector(".allCoursesBox"),n=document.querySelector(".static"),f=Courses.getCrsArr();function a(e){var t,i,o,n,a,r,s,u,c;i=f[t=e],o=fLib.getPrev(t,f.length),n=f[o],a=fLib.getNext(t,f.length),r=f[a],s=document.querySelector(".crsImg.current"),u=document.querySelector(".crsImg.prev"),c=document.querySelector(".crsImg.next"),s.style.backgroundImage="url("+i.labelSrc+")",u.style.backgroundImage="url("+n.labelSrc+")",c.style.backgroundImage="url("+r.labelSrc+")",b(e)}function b(e){var t=f[e],i=document.querySelector(".crsDescContent"),o=document.querySelector(".allCoursesBox h2"),n=document.querySelector(".amount"),a=document.querySelector(".fullDesc"),r=t.fullDesc.split(". "),s="";i.id="crsId_"+e,o.innerText=t.header,n.innerText="$ "+t.cost;for(var u=0;u<r.length;u++)s+="<p>"+r[u]+".</p>";a.innerHTML=s}function h(){o.style.opacity="0",o.style.display="none",i.style.opacity="1",n.style.filter="none"}return{init:function(e){var t;a(g=e),t=document.querySelector(".allCoursesBox .container"),o.style.display="block",n.style.filter="blur(5px)",i.style.opacity="0",t.style.top="-900px",setTimeout(function(){o.style.opacity="1",t.style.opacity="1",t.style.top="0"},50),o.onwheel=function(e){e.preventDefault()},o.onclick=function(e){var t,i,o,n,a,r,s,u,c,l,m,d,p=e.target,v=p.className;0<=v.indexOf("popup-closeButton")?h():0<=v.indexOf("crsImg")?(0<=v.indexOf("prev")?(s=g,u=document.querySelector(".crsLabel"),c=document.querySelector(".crsImg.current"),l=document.querySelector(".crsImg.prev"),m=document.querySelector(".crsImg.next"),d=document.createElement("div"),c.className="crsImg next",m.style.opacity="0",setTimeout(function(){u.removeChild(m)},300),l.className="crsImg current",d.style.backgroundImage="url("+f[fLib.getPrev(fLib.getPrev(s,f.length),f.length)].labelSrc+")",d.className="crsImg prev",d.style.opacity="0",u.appendChild(d),setTimeout(function(){d.style.opacity="1"},50),g=fLib.getPrev(g,f.length)):0<=v.indexOf("next")&&(t=g,i=document.querySelector(".crsLabel"),o=document.querySelector(".crsImg.current"),n=document.querySelector(".crsImg.prev"),a=document.querySelector(".crsImg.next"),r=document.createElement("div"),o.className="crsImg prev",n.style.opacity="0",setTimeout(function(){i.removeChild(n)},300),a.className="crsImg current",r.style.opacity="0",r.style.backgroundImage="url("+f[fLib.getNext(fLib.getNext(t,f.length),f.length)].labelSrc+")",r.className="crsImg next",i.appendChild(r),setTimeout(function(){r.style.opacity="1"},50),g=fLib.getNext(g,f.length)),b(g)):0<=v.indexOf("button-send")&&(fLib.dispatchSetCourse(p,"crsDescContent"),h(),Feedback.scrollToFeedback())}}}}(),Indicators=function(){var n=document.querySelector(".indcBox"),a=[{name:"graduates",value:1350},{name:"teachers",value:32},{name:"smthg else",value:74},{name:"years on market",value:13}];function o(e){var t=0,i=2e3/a[e].value,o=document.getElementById(a[e].name),n=setInterval(function(){0===e?t+=3:++t,(o.innerText=t)===a[e].value&&clearInterval(n)},i)}return{init:function(){var i=!1;!function(){for(var e=0;e<a.length;e++){var t=document.createElement("h3"),i=document.createElement("div"),o=document.createElement("div");t.innerText=a[e].name,i.className="indcNum",i.id=a[e].name,o.className="col indcItem",o.appendChild(t),o.appendChild(i),n.appendChild(o)}}(),window.addEventListener("scroll",function(){var e=document.querySelector(".indicators-bg"),t=document.querySelector(".indicators");fLib.parallax(t,e,100,3),!i&&t.getBoundingClientRect().bottom-t.offsetHeight/2<window.innerHeight&&(!function(){for(var e=0;e<a.length;++e)o(e)}(),i=!0)})}}}(),Instructors=function(){var l=document.querySelector(".instructors-block-items"),e=document.querySelector(".instructors .left-arrow"),t=document.querySelector(".instructors .right-arrow"),m=[{avatar:"/img/avatar_1.png",name:"vasiliy terkin",desc:"Director",links:{fb:"#",tw:"#",ig:"#"}},{avatar:"/img/avatar_2.png",name:"leonid belikov",desc:"Road king",links:{fb:"#",vk:"https://vk.com/id130355",tw:"#"}},{avatar:"/img/avatar_3.png",name:"arnold krasava",desc:"Uborschik",links:{fb:"#",vk:"#",tw:"#",ig:"#"}},{avatar:"/img/avatar_4.png",name:"Daniel",desc:"Race driving",links:{fb:"#",tw:"#",ig:"#"}},{avatar:"/img/avatar_5.png",name:"Emilian",desc:"Extreme driving",links:{fb:"#",vk:"#",tw:"#"}},{avatar:"/img/avatar_6.png",name:"Zhaber",desc:"Dumbass",links:{fb:"#",vk:"#",tw:"#",ig:"#"}}],i=3<m.length?3:m.length;function r(e,t){var i,o=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),u=!!m[e].links,c=[];r.className="name",r.innerText=m[e].name,s.className="desc",s.innerText=m[e].desc,a.className="title",a.appendChild(r),a.appendChild(s),n.className="avatar",n.style.background="center center url("+m[e].avatar+")",o.className="instructors-block-item",o.id="id_"+e,u&&((i=document.createElement("div")).className="hover-box",fLib.getSocNetsLinks(m[e].links,i,c),n.appendChild(i)),o.appendChild(n),o.appendChild(a),t?l.insertBefore(o,l.children[0]):l.appendChild(o),o.onmouseover=function(){i.style.background="rgba(0, 0, 0, 0.4)",d(c,!1)},o.onmouseout=function(){i.style.background="rgba(0, 0, 0, 0)",d(c,!0)}}function d(e,t){var i=0,o=setInterval(function(){e[i].style.transform=t?"scale(0)":"scale(1)",++i===e.length&&clearInterval(o)},100)}function o(e){e.innerHTML='<img src="img/arrow-blue.png">',e.style.transform="translateZ(10px)",e.style.filter="drop-shadow(0 10px 3px rgba(0,0,0,0.5))"}function n(e){e.innerHTML='<img src="img/arrow-dark-blue.png">',e.style.transform="translateZ(0)",e.style.filter="none"}function a(e){var t=document.getElementsByClassName("instructors-block-item"),i=t[0],o=t[t.length-1],n=parseInt(t[0].id.split("_")[1]),a=parseInt(t[t.length-1].id.split("_")[1]);switch(e){case"toLeft":i.style.transform="translate(-50%, -150%) scale(0) rotateZ(-180deg)",i.style.opacity="0",setTimeout(function(){l.removeChild(i),r(fLib.getNext(a,m.length))},300);break;case"toRight":o.style.transform="translate(50%, -150%) scale(0) rotateZ(180deg)",o.style.opacity="0",setTimeout(function(){l.removeChild(o),r(fLib.getPrev(n,m.length),!0)},300)}}return{init:function(){!function(){for(var e=0;e<i;e++)r(e)}(),e.onmouseenter=function(){o(e)},e.onmouseleave=function(){n(e)},t.onmouseenter=function(){o(t)},t.onmouseleave=function(){n(t)},e.onclick=function(){a("toLeft")},t.onclick=function(){a("toRight")}}}}(),Feedback=function(){var s=Courses.getCrsArr(),e=document.querySelector(".feedback"),u=document.querySelector(".course-select"),c=document.querySelector(".course-list"),l=document.querySelector(".course-select-arrow"),i=document.querySelector(".feedback form"),m=!1;function d(){c.style.transform="scaleY(0)",c.style.boxShadow="none",l.style.transform="none",setTimeout(function(){u.style.borderBottomLeftRadius="5px",u.style.borderBottomRightRadius="5px"},200),m=!1}function p(e){u.innerText=s[e].header}return{init:function(){!function(){for(var e=0;e<s.length;e++)t=e,i=void 0,o=void 0,n=void 0,a=void 0,r=void 0,i=document.createElement("li"),o=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),i.className="course-list-item",i.id="crsId_"+t,o.className="cost",o.innerText="$"+s[t].cost,n.className="img",n.style.backgroundImage="url('"+s[t].labelSrc+"')",a.className="hover-box",a.innerText="read more",r.className="title",r.innerText=s[t].header,n.appendChild(a),i.appendChild(o),i.appendChild(n),i.appendChild(r),c.appendChild(i);var t,i,o,n,a,r}(),e.onclick=function(e){var t,i,o,n,a=e.target,r=a.className;0<=r.indexOf("course-select")?m?d():(u.style.borderBottomLeftRadius="0",u.style.borderBottomRightRadius="0",c.style.transform="none",c.style.boxShadow="0 12px 19px 0 #000",l.style.transform="rotateZ(-180deg)",m=!0):0<=r.indexOf("title")||0<=r.indexOf("img")||0<=r.indexOf("cost")?(t=a.parentNode.id,i="#"+t,o=document.querySelector(i+" .img"),n=document.querySelector(i+" .cost"),o.style.opacity="0",n.style.opacity="0",p(t.split("_")[1]),setTimeout(function(){d(),setTimeout(function(){o.style.opacity="1",n.style.opacity="1"},350)},150)):0<=r.indexOf("hover-box")?(fLib.dispatchOpenCrsPopup(a,"course-list-item"),d()):m&&d()},i.onsubmit=function(e){e.preventDefault(),i.course.value=document.querySelector(".course-select").innerText,i.name.value&&i.email.value&&i.phone.value&&i.course.value?(console.log(""),console.log("------------------------"),console.log("------------------------"),console.log("Form need to submit with data:"),console.log("------------------------"),console.log("Name: "+i.name.value),console.log("Email: "+i.email.value),console.log("Phone: "+i.phone.value),console.log("Course: "+i.course.value),console.log("Comment: "+i.message.value),console.log("------------------------"),console.log("Enter your server data processing and validate methods here"),console.log("------------------------"),console.log("------------------------")):console.log("Form is not completely filled"),function(){for(var e=i.elements,t=0;t<e.length;t++)"submit"!==e[t].type&&(e[t].value="");u.innerText="Course"}()}},setCourse:function(e){d(),p(e)},scrollToFeedback:function(){e.scrollIntoView()}}}(),Footer=function(){var s=document.querySelector(".contacts-info"),t=[{value:"Russia, St.Petersburg, Obuhov 120",iconPath:"/img/region-icon.png"},{value:"+7 986 666-44-34",iconPath:"/img/call-icon.png"},{value:"hzmail@hz.com",iconPath:"/img/mail-icon.png"},{value:"Mon-Fri 10:00 - 18:00",iconPath:"/img/clock-icon.png"}],e={fb:"#",tw:"#",ig:"#"};return{init:function(){!function(){t.forEach(function(e,t,i){var o=document.createElement("div"),n=document.createElement("div"),a=document.createElement("img"),r=document.createElement("div");o.className="contacts-info__item",n.className="contacts-info__item-icon",r.className="contacts-info__item-text",r.innerText=i[t].value,a.setAttribute("src",i[t].iconPath),n.appendChild(a),o.appendChild(n),o.appendChild(r),s.appendChild(o)});var e=document.getElementsByClassName("contacts-info__item");e[e.length-1].className+=" contacts-info__item-last"}(),fLib.getSocNetsLinks(e,s)}}}(),fLib={parallax:function(e,t,i,o){var n=e.getBoundingClientRect().top;n&&n<window.innerHeight&&(t.style.bottom=i+(n-window.innerHeight)/o+"px")},getNext:function(e,t){return e===t-1?0:++e},getPrev:function(e,t){return 0===e?t-1:--e},dispatchOpenCrsPopup:function(e,t){var i=new CustomEvent("onViewAllCourses",{detail:this.getParentId(e,t)});document.dispatchEvent(i)},dispatchSetCourse:function(e,t){var i=new CustomEvent("onSetCourse",{detail:this.getParentId(e,t)});document.dispatchEvent(i)},getParentId:function(e,t){for(var i=e.parentNode;i!==document.body&&i.className.indexOf(t)<0;)i=i.parentNode;return i===document.body?null:parseInt(i.id.split("_")[1])},getSocNetsLinks:function(e,t,i){var o={fb:{icon:"/img/fb-icon.png"},tw:{icon:"/img/tw-icon.png"},vk:{icon:"/img/vk-icon.png"},ig:{icon:"/img/ig-icon.png"}};for(var n in e)if(n in o){var a=document.createElement("div");a.className="soc-net",a.innerHTML='<a href="'+e[n]+'" target="_blank"><img src="'+o[n].icon+'"></a>',t.appendChild(a),i&&i.push(a)}}};App.init();